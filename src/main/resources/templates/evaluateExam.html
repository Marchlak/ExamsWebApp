<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Solve Exam </title>
    <script src="../static/javascript/solve.js"></script>
    <link rel="stylesheet" th:href="@{/css/evaluateExam.css}" />
    <link rel="stylesheet" href="../static/css/evaluateExam.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

<div class="container-nav">
    <div id="nav">
        <ul>
            <li class="menu"><a th:href="@{/question}">Questions</a></li>
            <li class="menu"><a th:href="@{/exams}">Exams</a></li>
            <li class="menu"><a>Results</a></li>
            <li class="menu"><a>Contact us</a></li>
            <li class="menu"><a>About App</a></li>
            <div class="icon-container">
                <i class="fa-regular fa-bell"></i>
                <i class="fa-regular fa-user"></i>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
        </ul>
    </div>
    <div class="logo-container">
        <div class="logo">Examify365</div>
    </div>
</div>
<form action="/evaluateExam" method="get">
    <input type="hidden" th:name="studentId" th:value="${student.student_id}" />
    <input type="hidden" th:name="examId" th:value="${exam.id}">

    <div class="user-details">
        <p>Rozwiazujacy</p>
        <p class="first-last-name">First Name: <span th:text="${student.firstname}"></span></p>
        <p class="first-last-name">Last Name: <span th:text="${student.lastname}"></span></p>
    </div>

    <ul>
        <li th:each="question, idx : ${listOpenQuestions}">
            <div class="ques-points">
                <p th:text="${question.getContent()}">pytanie</p>
                <p class="points" th:text="${question.getScore() + 'p'}"></p>
            </div>
            <p class="your-answer">Student Answer</p>
            <div class="answer-and-points">
                <textarea th:text="${listAnswerOpenQuestion?.get(#numbers.sequence(0, listOpenQuestions.size() - 1)[idx.index])?.description ?: ''}"></textarea>
                <div class="points-field">
                    <p>Enter points for this answer</p>
                    <input type="number" step="1" min="0" th:max="${question.getScore()}" name="scores" th:value="${listAnswerOpenQuestion?.get(#numbers.sequence(0, listOpenQuestions.size() - 1)[idx.index])?.score ?: 0}"/>
                </div>
            </div>
        </li>
    </ul>

        <!-- W przyszlosci jak beda zamkniete -->
        <!-- <li th:each="question, idx : ${listClosedQuestions}">
            <div class="ques-points">
                <p th:text="${question.getContent()} + ' (' + ${question.getScore()} + ' points)'">pytanie</p>
                <p class="points">3p</p>
            </div>
            <p class="your-answer">Choose answer:</p>
            <div class="checkbox-list" th:each="answer : ${closedAnswers[idx.index]}">
                <input type="checkbox" th:name="'closedAnswers[' + ${question.getId()} + '][]'"
                       th:value="${answer.getId()}" th:text="${answer.description}" value="ssssssssssss"/>ssss
            </div>
        </li>
    </ul> -->

        <div class="button-container">
            <button type="submit">Save Points</button>
        </div>
</form>



</body>
</html>